# Generated by Django 3.2.25 on 2025-05-14 00:43

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='OnuDato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('snmpindexonu', models.CharField(max_length=50, verbose_name='Índice SNMP')),
                ('act_susp', models.CharField(max_length=10, verbose_name='Estado ONU')),
                ('onudesc', models.CharField(blank=True, max_length=255, verbose_name='Descripción ONU')),
            ],
            options={
                'verbose_name': 'Datos ONU',
                'verbose_name_plural': 'Datos ONUs',
                'db_table': 'onu_datos',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='TareaSNMP',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100, verbose_name='Nombre de la Tarea')),
                ('host_name', models.CharField(max_length=50, verbose_name='Nombre del Host')),
                ('host_ip', models.GenericIPAddressField(protocol='IPv4', verbose_name='IP del OLT')),
                ('comunidad', models.CharField(default='public', max_length=50, verbose_name='Comunidad SNMP')),
                ('tipo', models.CharField(choices=[('descubrimiento', 'Descubrimiento'), ('datos', 'Datos')], default='Descubrimiento', max_length=20)),
                ('oid_consulta', models.CharField(blank=True, editable=False, max_length=255, verbose_name='OID Automático')),
                ('intervalo', models.CharField(choices=[('00', 'Principal (00)'), ('15', 'Secundario (15)'), ('30', 'Secundario (30)'), ('45', 'Secundario (45)')], default='00', max_length=10)),
                ('modo', models.CharField(choices=[('principal', 'Principal'), ('secundario', 'Secundario'), ('modo', 'Modo Especial')], default='principal', max_length=20)),
                ('ultima_ejecucion', models.DateTimeField(blank=True, null=True)),
                ('activa', models.BooleanField(default=True, verbose_name='Tarea Activa')),
                ('registros_activos', models.PositiveIntegerField(default=0, help_text='Contador actualizado automáticamente', verbose_name='ONUs Registradas')),
            ],
            options={
                'verbose_name': 'Tarea SNMP',
                'verbose_name_plural': 'Tareas SNMP',
                'unique_together': {('host_ip', 'intervalo', 'modo')},
            },
        ),
    ]
